<!-- customer-storage-item-list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Quản lý hàng hóa</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="container mt-4">

<h2>Danh sách hàng hóa trong kho</h2>

<a th:href="@{'/customer/storage-items/add/' + ${order.id}}" class="btn btn-primary mb-2">Thêm hàng hóa</a>

<div class="mb-3">
    <p><strong>Thể tích kho:</strong> <span th:text="${totalVolume}"></span> m³</p>
    <p><strong>Thể tích đã sử dụng:</strong> <span th:text="${totalUsedVolume}"></span> m³</p>
    <p><strong>Thể tích còn trống:</strong> <span th:text="${emptyVolume}"></span> m³</p>
    <p><strong>% Còn trống:</strong> <span th:text="${percentEmpty}"></span>%</p>
</div>

<table class="table table-bordered">
    <thead>
    <tr>
        <th>Tên hàng</th>
        <th>Số lượng</th>
        <th>Thể tích mỗi đơn vị (m³)</th>
        <th>Ngày lưu kho</th>
        <th>Ghi chú</th>
        <th>Hành động</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="item : ${items}">
        <td th:text="${item.itemName}"></td>
        <td th:text="${item.quantity}"></td>
        <td th:text="${item.volumePerUnit}"></td>
        <td th:text="${item.dateStored}"></td>
        <td th:text="${item.note}"></td>
        <td>
            <a th:href="@{'/customer/storage-items/edit/' + ${item.id}}" class="btn btn-warning btn-sm">Sửa</a>
            <a th:href="@{'/customer/storage-items/delete/' + ${item.id} + '/' + ${order.id}}"
               class="btn btn-danger btn-sm"
               onclick="return confirm('Bạn có chắc chắn muốn xóa?');">Xóa</a>
        </td>
    </tr>
    </tbody>
</table>

</body>
</html>
