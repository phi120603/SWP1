<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Chi tiết giao dịch kho</title>
</head>
<body>
<h2>📄 Thông tin chi tiết giao dịch</h2>

<div th:if="${message}" style="color: green;">[[${message}]]</div>
<div th:if="${error}" style="color: red;">[[${error}]]</div>

<p><strong>ID:</strong> <span th:text="${transaction.id}"></span></p>
<p><strong>Loại:</strong> <span th:text="${transaction.type}"></span></p>
<p><strong>Ngày giao dịch:</strong> <span th:text="${#dates.format(transaction.transactionDate, 'dd/MM/yyyy HH:mm')}"></span></p>
<p><strong>Khách hàng:</strong> <span th:text="${transaction.customer.fullname}"></span></p>
<p><strong>Email:</strong> <span th:text="${transaction.customer.email}"></span></p>
<p><strong>Kho:</strong> <span th:text="${transaction.storage.storagename}"></span></p>
<p><strong>Địa chỉ:</strong> <span th:text="${transaction.storage.address + ', ' + transaction.storage.city}"></span></p>

<!-- Thao tác cập nhật nếu cần -->
<form method="post" th:action="@{'/SWP/storage-transactions/' + ${transaction.id} + '/complete'}" style="display:inline;">
  <button type="submit">✅ Hoàn tất</button>
</form>
<form method="post" th:action="@{'/SWP/storage-transactions/' + ${transaction.id} + '/fail'}" style="display:inline;">
  <button type="submit">❌ Thất bại</button>
</form>

<p><a href="/SWP/storage-transactions">← Quay lại danh sách</a></p>
</body>
</html>
