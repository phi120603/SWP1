<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Login Page</title>
    <meta charset="UTF-8">
    <!-- Thêm Font Awesome để có icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            min-height: 100vh;
            background: linear-gradient(120deg, #7f53ac 0%, #647dee 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        .login-container {
            background: #fff;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,.1);
            width: 400px;
            max-width: 90vw;
            padding: 40px 38px 32px 38px;
            margin: 50px auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .login-container h2 {
            font-size: 2rem;
            margin-bottom: 32px;
            font-weight: bold;
            color: #222;
            letter-spacing: 1px;
        }
        .input-group {
            width: 100%;
            display: flex;
            align-items: center;
            background: #f6f6f6;
            border-radius: 25px;
            margin-bottom: 20px;
            padding: 0 16px;
            border: 1px solid #e1e1e1;
            position: relative;
        }
        .input-group i {
            color: #b5b5b5;
            font-size: 1.1rem;
        }
        .input-group input {
            border: none;
            outline: none;
            background: transparent;
            padding: 12px 12px 12px 10px;
            font-size: 1rem;
            flex: 1;
        }
        .forgot {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.9rem;
            color: #a2a2a2;
            text-decoration: none;
        }
        .forgot:hover {
            text-decoration: underline;
            color: #647dee;
        }
        .login-btn {
            width: 100%;
            border: none;
            border-radius: 25px;
            background: linear-gradient(90deg, #7f53ac, #647dee);
            color: #fff;
            font-size: 1.1rem;
            font-weight: bold;
            padding: 13px 0;
            margin-top: 10px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .login-btn:hover {
            background: linear-gradient(90deg, #647dee, #7f53ac);
        }
        .error-message {
            color: #e74c3c;
            font-size: 0.96rem;
            margin-bottom: 8px;
            text-align: center;
        }
        .or-text {
            color: #aaa;
            font-size: 0.98rem;
            text-align: center;
            margin: 12px 0 7px 0;
        }
        .social-login {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-bottom: 6px;
        }
        .social-login a {
            width: 36px;
            height: 36px;
            background: #f6f6f6;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #647dee;
            font-size: 1.2rem;
            transition: background 0.2s, color 0.2s;
            border: 1px solid #e3e3e3;
        }
        .social-login a:hover {
            background: #647dee;
            color: #fff;
        }
        .signup-link {
            color: #647dee;
            font-weight: 600;
            text-align: center;
            text-decoration: none;
            display: block;
            margin-top: 8px;
        }
        .signup-link:hover {
            text-decoration: underline;
            color: #7f53ac;
        }
        @media (max-width: 600px) {
            .login-container {
                padding: 22px 7vw;
            }
        }
    </style>
</head>

<div class="login-container">
    <h2>Login</h2>
    <form action="/login" method="post" id="loginForm">
        <div class="input-group">
            <i class="fa fa-user"></i>
            <input type="text" name="username" placeholder="Type your username" required />
        </div>
        <div class="input-group">
            <i class="fa fa-lock"></i>
            <input type="password" name="password" placeholder="Type your password" required />
            <a href="#" class="forgot">Forgot password?</a>
        </div>
        <button type="submit" class="login-btn">LOGIN</button>
        <!-- Hiện thông báo lỗi khi login fail -->
        <div id="error" th:if="${param.error}" class="error-message">Sai tài khoản hoặc mật khẩu!</div>

        <div class="or-text">Or Sign Up Using</div>
        <div class="social-login">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-google"></i></a>
        </div>
        <div class="or-text" style="margin-top:24px;">Or Sign Up Using</div>
        <a href="#" class="signup-link">SIGN UP</a>
    </form>
</div>



<!--<script>-->
<!--    document.getElementById('loginForm').addEventListener('submit', async function(e) {-->
<!--        e.preventDefault();-->
<!--        const email = document.getElementById('email').value;-->
<!--        const password = document.getElementById('password').value;-->
<!--        try {-->
<!--            const response = await fetch('/api/login', {-->
<!--                method: 'POST',-->
<!--                headers: { 'Content-Type': 'application/json' },-->
<!--                credentials: 'include', // <== RẤT QUAN TRỌNG-->
<!--                body: JSON.stringify({ email, password })-->
<!--            });-->
<!--            const data = await response.json();-->
<!--            if (response.ok) {-->
<!--                switch (data.role) {-->
<!--                    case 'MANAGER': window.location.href = '/manager/dashboard'; break;-->
<!--                    case 'STAFF': window.location.href = '/staff/dashboard'; break;-->
<!--                    case 'CUSTOMER': window.location.href = '/customer/home'; break;-->
<!--                    default: document.getElementById('error').textContent = 'Không xác định được quyền truy cập!';-->
<!--                }-->
<!--            } else {-->
<!--                document.getElementById('error').textContent = data.message || 'Đăng nhập thất bại!';-->
<!--            }-->
<!--        } catch (err) {-->
<!--            document.getElementById('error').textContent = 'Lỗi kết nối đến máy chủ.';-->
<!--        }-->
<!--    });-->
<!--</script>-->


</body>
</html>
